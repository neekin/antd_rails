<!DOCTYPE html>
<html>
<head>
  <title>Table Sort Test</title>
  <script type="module">
    import { Application } from "https://unpkg.com/@hotwired/stimulus/dist/stimulus.js"
    
    window.Stimulus = Application.start()
    
    Stimulus.register("ant--table", class extends Controller {
      sort(event) {
        const column = event.currentTarget.dataset.column
        const currentDirection = event.currentTarget.dataset.direction || "none"
        
        let newDirection = "ascend"
        if (currentDirection === "ascend") {
          newDirection = "descend"
        } else if (currentDirection === "descend") {
          newDirection = "none"
        }
        
        console.log("Sort clicked:", { column, currentDirection, newDirection })
        
        // Update direction
        event.currentTarget.dataset.direction = newDirection
        
        alert(`Column: ${column}\nDirection: ${newDirection}`)
      }
    })
  </script>
</head>
<body>
  <div data-controller="ant--table">
    <h1>Table Sort Test</h1>
    <table>
      <thead>
        <tr>
          <th>
            <span class="cursor-pointer" 
                  data-sortable="true" 
                  data-column="Name" 
                  data-direction="none"
                  data-action="click->ant--table#sort">
              Name (Click to sort)
            </span>
          </th>
        </tr>
      </thead>
    </table>
  </div>
</body>
</html>
