<%= render Ui::ComponentHeaderComponent.new(
  title: "Transfer 穿梭框",
  description: "双栏穿梭选择器。",
  when_to_use: [
    "需要在多个可选项中进行多选时。",
    "当选项过多时，使用双栏选择可以更清晰地展示选中和未选中的项。",
    "用于权限分配、标签管理等场景。"
  ]
) %>

<h3 class="text-xl font-bold text-gray-800 mb-4 mt-8">代码演示</h3>

<%= render Ui::ExampleComponent.new(
  title: "基本使用",
  description: "最简单的用法，提供选项列表和已选中的值。",
  language: :erb,
  code: transfer_basic_code
) do %>
  <div class="max-w-2xl">
    <%= ant_transfer name: "permissions", 
                     options: [["查看用户", "view_users"], ["编辑用户", "edit_users"], ["删除用户", "delete_users"], ["管理角色", "manage_roles"], ["系统设置", "system_settings"]],
                     selected: ["view_users", "manage_roles"] %>
  </div>
<% end %>

<%= render Ui::ExampleComponent.new(
  title: "自定义标题",
  description: "使用 left_title 和 right_title 自定义左右栏的标题。",
  language: :erb,
  code: transfer_titles_code
) do %>
  <div class="max-w-2xl">
    <%= ant_transfer name: "assigned_roles", 
                     options: [["管理员", "admin"], ["编辑", "editor"], ["作者", "author"], ["访客", "guest"]],
                     selected: ["admin"],
                     left_title: "可选角色",
                     right_title: "已分配角色" %>
  </div>
<% end %>

<%= render Ui::ExampleComponent.new(
  title: "禁用状态",
  description: "禁用穿梭框，用户无法进行操作。",
  language: :erb,
  code: transfer_disabled_code
) do %>
  <div class="max-w-2xl">
    <%= ant_transfer name: "locked_tags", 
                     options: [["Ruby", "ruby"], ["Rails", "rails"], ["JavaScript", "js"]],
                     selected: ["ruby", "rails"],
                     disabled: true,
                     left_title: "所有标签",
                     right_title: "已选标签" %>
  </div>
<% end %>

<%= render Ui::ExampleComponent.new(
  title: "自定义样式",
  description: "通过 html_options 传递自定义 CSS 类名。",
  language: :erb,
  code: transfer_custom_code
) do %>
  <div class="max-w-2xl">
    <%= ant_transfer name: "features", 
                     options: [["特性 A", "feature_a"], ["特性 B", "feature_b"], ["特性 C", "feature_c"], ["特性 D", "feature_d"]],
                     selected: ["feature_a"],
                     left_title: "未启用",
                     right_title: "已启用",
                     class: "shadow-lg rounded-lg" %>
  </div>
<% end %>

<h3 class="text-xl font-bold text-gray-800 mb-4 mt-12">API</h3>
<%= render Ui::ApiTableComponent.new do |api| %>
  <% api.row "name", "表单字段名称（自动添加 [] 后缀用于多选）", "String", "必填" %>
  <% api.row "options", "选项列表，支持 [\"A\", \"B\"] 或 [[\"标签\", \"值\"]] 格式", "Array", "[]" %>
  <% api.row "selected", "默认选中的值数组", "Array", "[]" %>
  <% api.row "left_title", "左侧面板标题", "String", "\"Source\"" %>
  <% api.row "right_title", "右侧面板标题", "String", "\"Target\"" %>
  <% api.row "disabled", "是否禁用", "Boolean", "false" %>
  <% api.row "class", "自定义 CSS 类名", "String", "nil" %>
  <% api.row "html_options", "其他标准 HTML 属性 (如 data-*, id)", "Hash", "{}" %>
<% end %>

<div class="mt-8 p-4 bg-blue-50 rounded-lg">
  <h4 class="font-semibold text-blue-900 mb-2">💡 使用说明</h4>
  <ul class="list-disc list-inside text-blue-800 space-y-1">
    <li><strong>选项格式</strong>：options 支持简单数组 <code>["A", "B"]</code> 或自定义标签值 <code>[["标签", "值"]]</code>。</li>
    <li><strong>表单提交</strong>：选中的值会通过多个隐藏的 input (name[]) 字段提交，Rails 会自动接收为数组。</li>
    <li><strong>数量统计</strong>：左右面板标题下方会显示当前列表中的项目数量，如 "3 items"。</li>
    <li><strong>操作按钮</strong>：中间的 ">" 按钮将左侧选中项移到右侧，"<" 按钮将右侧选中项移到左侧。</li>
    <li><strong>Stimulus 控制器</strong>：需要实现 <code>ant--transfer</code> 控制器来处理项目转移的交互逻辑。</li>
    <li><strong>禁用效果</strong>：禁用状态下，所有复选框和操作按钮均不可点击，样式呈灰色。</li>
  </ul>
</div>
