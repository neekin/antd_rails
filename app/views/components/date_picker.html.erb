<%= render Ui::ComponentHeaderComponent.new(
  title: "DatePicker 日期选择器",
  description: "输入或选择日期的控件。",
  when_to_use: [
    "当用户需要输入一个日期时。",
    "需要选择特定日期时，提供日历面板进行可视化选择。",
    "用于生日、预约时间等场景。"
  ]
) %>

<h3 class="text-xl font-bold text-gray-800 mb-4 mt-8">代码演示</h3>

<%= render Ui::ExampleComponent.new(
  title: "基本使用",
  description: "最简单的用法，点击输入框弹出日历面板进行选择。",
  language: :erb,
  code: date_picker_basic_code
) do %>
  <div class="max-w-sm">
    <%= ant_date_picker name: "user[birthday]", placeholder: "Select date" %>
  </div>
<% end %>

<%= render Ui::ExampleComponent.new(
  title: "默认值",
  description: "使用 value 属性设置默认选中的日期。",
  language: :erb,
  code: date_picker_value_code
) do %>
  <div class="max-w-sm">
    <%= ant_date_picker name: "appointment_date", 
                        value: Date.today,
                        placeholder: "Select date" %>
  </div>
<% end %>

<%= render Ui::ExampleComponent.new(
  title: "禁用状态",
  description: "禁用日期选择器，用户无法进行选择。",
  language: :erb,
  code: date_picker_disabled_code
) do %>
  <div class="max-w-sm">
    <%= ant_date_picker name: "locked_date", 
                        value: "2024-01-15",
                        disabled: true,
                        placeholder: "Disabled" %>
  </div>
<% end %>

<%= render Ui::ExampleComponent.new(
  title: "自定义样式",
  description: "通过 html_options 传递自定义 CSS 类名和其他属性。",
  language: :erb,
  code: date_picker_custom_code
) do %>
  <div class="max-w-sm">
    <%= ant_date_picker name: "custom_date", 
                        placeholder: "Custom styled",
                        class: "w-full border-2 border-blue-500" %>
  </div>
<% end %>

<h3 class="text-xl font-bold text-gray-800 mb-4 mt-12">API</h3>
<%= render Ui::ApiTableComponent.new do |api| %>
  <% api.row "name", "表单字段名称", "String", "必填" %>
  <% api.row "value", "默认选中的日期，支持 Date/Time/DateTime/String", "Date/Time/DateTime/String", "nil" %>
  <% api.row "placeholder", "输入框占位符", "String", "\"Select date\"" %>
  <% api.row "disabled", "是否禁用", "Boolean", "false" %>
  <% api.row "class", "自定义 CSS 类名", "String", "nil" %>
  <% api.row "html_options", "其他标准 HTML 属性 (如 data-*, id)", "Hash", "{}" %>
<% end %>

<div class="mt-8 p-4 bg-blue-50 rounded-lg">
  <h4 class="font-semibold text-blue-900 mb-2">💡 使用说明</h4>
  <ul class="list-disc list-inside text-blue-800 space-y-1">
    <li><strong>日期格式</strong>：组件内部会将 Date/Time/DateTime 对象统一格式化为 "YYYY-MM-DD" 字符串存储。</li>
    <li><strong>表单提交</strong>：选中的日期会通过隐藏的 input 字段提交，字段名为 name 属性指定的值。</li>
    <li><strong>交互行为</strong>：点击输入框触发器打开日历面板，点击日期单元格选中日期并自动关闭面板。</li>
    <li><strong>Stimulus 控制器</strong>：需要实现 <code>ant--date-picker</code> 控制器来处理日期选择交互逻辑。</li>
  </ul>
</div>
