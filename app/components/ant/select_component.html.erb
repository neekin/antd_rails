<div class="relative w-full <%= @html_options[:class] %>" data-controller="ant--select">
  <!-- Hidden Input -->
  <input type="hidden" name="<%= @name %>" value="<%= @selected %>" data-ant--select-target="input" <%= "disabled" if @disabled %>>

  <!-- Trigger -->
  <button type="button" 
          data-action="click->ant--select#toggle" 
          data-ant--select-target="trigger"
          class="w-full text-left flex items-center justify-between px-[11px] py-[4px] text-[14px] rounded-[6px] border transition-all outline-none bg-white 
                 <%= @disabled ? 'bg-[#f5f5f5] border-[#d9d9d9] cursor-not-allowed text-[rgba(0,0,0,0.25)]' : 'border-[#d9d9d9] hover:border-[#4096ff] focus:border-[#4096ff] focus:shadow-[0_0_0_2px_rgba(5,145,255,0.1)] cursor-pointer text-[rgba(0,0,0,0.88)]' %>"
          <%= "disabled" if @disabled %>>
    
    <span class="truncate block" data-ant--select-target="label">
      <%= selected_label %>
    </span>
    
    <!-- Arrow Icon -->
    <span class="text-[rgba(0,0,0,0.25)] text-[12px] flex items-center justify-center pointer-events-none">
       <svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3 0.1-12.7-6.4-12.7z"/></svg>
    </span>
  </button>

  <!-- Dropdown Panel -->
  <div data-ant--select-target="panel" 
       class="hidden absolute z-50 min-w-full mt-1 bg-white rounded-lg p-1 overflow-auto max-h-[256px] origin-top-left
              shadow-[0_3px_6px_-4px_rgba(0,0,0,0.12),0_6px_16px_0_rgba(0,0,0,0.08),0_9px_28px_8px_rgba(0,0,0,0.05)]">
    <ul class="text-[14px] text-gray-700">
      <% @options.each do |label, value| %>
        <% is_selected = value.to_s == @selected.to_s %>
        <li data-action="click->ant--select#select" 
            data-value="<%= value %>"
            data-ant--select-target="option"
            class="px-3 py-1.5 rounded-[4px] cursor-pointer transition-colors flex items-center justify-between
                   <%= is_selected ? 'bg-[#e6f4ff] font-semibold text-gray-900' : 'hover:bg-[#f5f5f5]' %>">
          <span><%= label %></span>
          
          <!-- Check Icon (Visible only if selected, managed by JS toggle logic ideally, but here initial state) -->
          <% if is_selected %>
             <svg class="text-[#1677ff]" viewBox="64 64 896 896" width="1em" height="1em" fill="currentColor"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"/></svg>
          <% end %>
        </li>
      <% end %>
    </ul>
  </div>
</div>
